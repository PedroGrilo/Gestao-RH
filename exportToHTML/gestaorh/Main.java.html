<html>
<head>
<title>Main.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #629755; font-style: italic;}
.s4 { color: #629755; font-weight: bold; font-style: italic;}
.s5 { color: #6a8759;}
.s6 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Main.java</font>
</center></td></tr></table>
<pre><span class="s0">/* 
TODO:: 
 
 
 do while : nao sair do menu ao validar a data 
 
 - menu empregado : &quot;deseja inserir mais dias?S/N&quot; 
 
 - ficheiro dos empregados contratados*/</span>
<span class="s2">package </span><span class="s1">gestaorh</span><span class="s2">;</span>

import <span class="s1">gestaorh.exceptions.GestaoErro</span><span class="s2">;</span>
import <span class="s1">gestaorh.exceptions.GestaoException</span><span class="s2">;</span>
import <span class="s1">java.io.FileNotFoundException</span><span class="s2">;</span>
import <span class="s1">java.io.FileReader</span><span class="s2">;</span>
import <span class="s1">java.io.IOException</span><span class="s2">;</span>
import <span class="s1">java.io.PrintWriter</span><span class="s2">;</span>
import static <span class="s1">java.lang.Integer.parseInt</span><span class="s2">;</span>
import <span class="s1">java.util.NoSuchElementException</span><span class="s2">;</span>
import <span class="s1">java.util.Random</span><span class="s2">;</span>
import <span class="s1">java.util.Scanner</span><span class="s2">;</span>

<span class="s3">/**</span>
 *
 * <span class="s4">@author </span><span class="s3">creep</span>
 */
<span class="s2">public class </span><span class="s1">Main {</span>

    <span class="s2">private static final </span><span class="s1">String FILE_NAME = </span><span class="s5">&quot;empregados.txt&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String ERRO_LER_FICHEIRO = </span><span class="s5">&quot;Erro ao ler ficheiro!&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String FICHEIRO_VAZIO = </span><span class="s5">&quot;Ficheiro vazio.!&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String ERRO_SAVE = </span><span class="s5">&quot;Erro ao salvar ficheiro!&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String LOADING_FILE = </span><span class="s5">&quot;A ler ficheiro...&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String SUCCESS_SAVE = </span><span class="s5">&quot;Ficheiro salvo com sucesso.&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String MENU_EMPREGADO_TITULO = </span><span class="s5">&quot;</span><span class="s2">\n\n\n</span><span class="s5">|====== Escolher tipo de empregado a adicionar ======|&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String ESCOLHA_OPCAO = </span><span class="s5">&quot;Escolha uma opcão&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String INPUT_KM_PERCORRIDOS = </span><span class="s5">&quot; Introduza os kilometros percorridos&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String KM_PERCORRIDOS = </span><span class="s5">&quot;Kilometros percorridos adicionada com sucesso!&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String DATA_KM = </span><span class="s5">&quot;Data dos kilometros:&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String INPUT_VENDA = </span><span class="s5">&quot; Introduza um valor para a venda&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String DATA_VENDA = </span><span class="s5">&quot;Data da venda:&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String VENDA_SUCESSO = </span><span class="s5">&quot;Venda adicionada com sucesso!&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String ANO = </span><span class="s5">&quot; Ano&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String MES = </span><span class="s5">&quot; Mes&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String DIA = </span><span class="s5">&quot; Dia&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String CODIGO_EMPREGADO = </span><span class="s5">&quot; Introduza o codigo do empregado&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String CALCULAR_CUSTOS = </span><span class="s5">&quot;</span><span class="s2">\n </span><span class="s5">Custos Trimestrais, semestrais e anuais&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String INTRODUZIR_NOME = </span><span class="s5">&quot;Introduza o nome&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String INTRODUZIR_CODIGO = </span><span class="s5">&quot;Introduza um código&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String DATA_ENTRADA_EMP = </span><span class="s5">&quot;Data de Entrada na Empresa:&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String INTRODUZIR_CATEGORIA = </span><span class="s5">&quot;Introduza uma categoria&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String TOTAL_A_PAGAR = </span><span class="s5">&quot;Total de salários a pagar: &quot;</span><span class="s2">;</span>
    private static final <span class="s1">String TRIMESTRES_TITULO = </span><span class="s5">&quot;</span><span class="s2">\n</span><span class="s5">&quot; </span><span class="s1">+ Periodos.TRIMESTRES.toString() + </span><span class="s5">&quot; : &quot;</span><span class="s2">;</span>
    private static final <span class="s1">String SEMESTRES_TITULO = </span><span class="s5">&quot;</span><span class="s2">\n</span><span class="s5">&quot; </span><span class="s1">+ Periodos.SEMESTRES.toString() + </span><span class="s5">&quot; : &quot;</span><span class="s2">;</span>
    private static final <span class="s1">String ANUAIS_TITULO = </span><span class="s5">&quot;</span><span class="s2">\n</span><span class="s5">&quot; </span><span class="s1">+ Periodos.ANUAIS.toString() + </span><span class="s5">&quot; : &quot;</span><span class="s2">;</span>
    private static final <span class="s1">String PICAR_DIA_TITULO = </span><span class="s5">&quot;Introduzir dia Trabalhado: &quot;</span><span class="s2">;</span>
    private static final <span class="s1">String NR_EMPREGADOS = </span><span class="s5">&quot;</span><span class="s2">\n</span><span class="s5">Numero de Empregados na categoria %s : %d </span><span class="s2">\n</span><span class="s5">&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String DIA_ADICIONADO_SUCESSO = </span><span class="s5">&quot;Dia adicionado com sucesso&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String EXISTE_CODIGO = </span><span class="s5">&quot;</span><span class="s2">\n</span><span class="s5">Existe um empregado com o código : %d&quot;</span><span class="s2">;</span>
    private static final <span class="s1">String NAO_EXISTE_EMP = </span><span class="s5">&quot;Não existe nenhum empregado com o código dado como parâmetro.&quot;</span><span class="s2">;</span>

    <span class="s3">/**</span>
     *
     * <span class="s4">@param </span><span class="s3">empresa</span>
     * <span class="s4">@param </span><span class="s3">sourceFile</span>
     * <span class="s4">@throws </span><span class="s3">FileNotFoundException</span>
     */
    <span class="s2">public static void </span><span class="s1">saveEmpregadosFile(Empresa empresa</span><span class="s2">, </span><span class="s1">String sourceFile) </span><span class="s2">throws </span><span class="s1">FileNotFoundException {</span>
        PrintWriter out = <span class="s2">new </span><span class="s1">PrintWriter(sourceFile)</span><span class="s2">;</span>
        for <span class="s1">(Empregado e : empresa.getEmpregado()) {</span>
            out.println(empresa.getCategoria(e))<span class="s2">;</span>
            <span class="s1">out.println(e.getNome())</span><span class="s2">;</span>
            <span class="s1">out.println(e.getCodigo())</span><span class="s2">;</span>
            <span class="s1">out.println(e.getDataEntradaEmpresa().getDay())</span><span class="s2">;</span>
            <span class="s1">out.println(e.getDataEntradaEmpresa().getMonth())</span><span class="s2">;</span>
            <span class="s1">out.println(e.getDataEntradaEmpresa().getYear())</span><span class="s2">;</span>
        <span class="s1">}</span>
        out.close()<span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s3">/**</span>
     *
     * <span class="s4">@param </span><span class="s3">empresa</span>
     * <span class="s4">@param </span><span class="s3">file</span>
     * <span class="s4">@throws </span><span class="s3">FileNotFoundException</span>
     * <span class="s4">@throws </span><span class="s3">NoSuchElementException</span>
     */
    <span class="s2">public static void </span><span class="s1">lerEmpregadosFile(Empresa empresa</span><span class="s2">, </span><span class="s1">String file) </span><span class="s2">throws </span><span class="s1">FileNotFoundException</span><span class="s2">, </span><span class="s1">NoSuchElementException {</span>
        System.out.println(LOADING_FILE)<span class="s2">;</span>
        <span class="s1">FileReader fich = </span><span class="s2">new </span><span class="s1">FileReader(file)</span><span class="s2">;</span>
        <span class="s1">Scanner fin = </span><span class="s2">new </span><span class="s1">Scanner(fich)</span><span class="s2">;</span>

        while <span class="s1">(fin.hasNextLine()) {</span>

            String cat = fin.nextLine().toUpperCase()<span class="s2">;</span>

            <span class="s1">String nome = fin.nextLine()</span><span class="s2">;</span>

            <span class="s1">String codigo = fin.nextLine()</span><span class="s2">;</span>

            <span class="s1">String dia = fin.nextLine()</span><span class="s2">;</span>

            <span class="s1">String mes = fin.nextLine()</span><span class="s2">;</span>

            <span class="s1">String ano = fin.nextLine()</span><span class="s2">;</span>

            switch <span class="s1">(Categorias.valueOf(cat)) {</span>
                <span class="s2">case </span><span class="s1">NORMAL:</span>
                    empresa.addEmpregadoNormal(nome<span class="s2">, </span><span class="s1">parseInt(codigo)</span><span class="s2">, </span><span class="s1">parseInt(dia)</span><span class="s2">, </span><span class="s1">parseInt(mes)</span><span class="s2">, </span><span class="s1">parseInt(ano))</span><span class="s2">;</span>
                    break;
                case <span class="s1">COMERCIAL:</span>
                    empresa.addEmpregadoComercial(nome<span class="s2">, </span><span class="s1">parseInt(codigo)</span><span class="s2">, </span><span class="s1">parseInt(dia)</span><span class="s2">, </span><span class="s1">parseInt(mes)</span><span class="s2">, </span><span class="s1">parseInt(ano))</span><span class="s2">;</span>
                    break;
                case <span class="s1">MOTORISTA:</span>
                    empresa.addEmpregadoMotorista(nome<span class="s2">, </span><span class="s1">parseInt(codigo)</span><span class="s2">, </span><span class="s1">parseInt(dia)</span><span class="s2">, </span><span class="s1">parseInt(mes)</span><span class="s2">, </span><span class="s1">parseInt(ano))</span><span class="s2">;</span>
                    break;
                case <span class="s1">GESTOR:</span>
                    empresa.addEmpregadoGestor(nome<span class="s2">, </span><span class="s1">parseInt(codigo)</span><span class="s2">, </span><span class="s1">parseInt(dia)</span><span class="s2">, </span><span class="s1">parseInt(mes)</span><span class="s2">, </span><span class="s1">parseInt(ano))</span><span class="s2">;</span>
                    break;
                default<span class="s1">:</span>
                    <span class="s2">throw new </span><span class="s1">GestaoException(GestaoErro.ERRO_CATEGORIA)</span><span class="s2">;</span>
            <span class="s1">}</span>

        }

        fin.close()<span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">empregadosToBeAdd(Empresa empresa) {</span>

        Random rand = <span class="s2">new </span><span class="s1">Random(System.currentTimeMillis())</span><span class="s2">;</span>
        int <span class="s1">mes = rand.nextInt(</span><span class="s6">11</span><span class="s1">) + </span><span class="s6">1</span><span class="s2">;</span>
        int <span class="s1">dia = rand.nextInt(</span><span class="s6">29</span><span class="s1">) + </span><span class="s6">1</span><span class="s2">;</span>
        <span class="s1">Empregado[] empregados = {</span>
            <span class="s2">new </span><span class="s1">NormalClass(</span><span class="s5">&quot;Pedro&quot;</span><span class="s2">, </span><span class="s6">1</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2014</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">NormalClass(</span><span class="s5">&quot;Márcia&quot;</span><span class="s2">, </span><span class="s6">2</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2015</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">NormalClass(</span><span class="s5">&quot;José&quot;</span><span class="s2">, </span><span class="s6">3</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2018</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">ComercialClass(</span><span class="s5">&quot;Patricia&quot;</span><span class="s2">, </span><span class="s6">4</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2018</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">ComercialClass(</span><span class="s5">&quot;Diogo&quot;</span><span class="s2">, </span><span class="s6">5</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2012</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">ComercialClass(</span><span class="s5">&quot;Alfredo&quot;</span><span class="s2">, </span><span class="s6">6</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2010</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">GestorClass(</span><span class="s5">&quot;António&quot;</span><span class="s2">, </span><span class="s6">7</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2015</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">GestorClass(</span><span class="s5">&quot;Beatriz&quot;</span><span class="s2">, </span><span class="s6">8</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2016</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">GestorClass(</span><span class="s5">&quot;Ana&quot;</span><span class="s2">, </span><span class="s6">9</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2017</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">MotoristaClass(</span><span class="s5">&quot;Andre&quot;</span><span class="s2">, </span><span class="s6">10</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2010</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">MotoristaClass(</span><span class="s5">&quot;Manel&quot;</span><span class="s2">, </span><span class="s6">11</span><span class="s2">, </span><span class="s1">dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s6">2017</span><span class="s1">)</span><span class="s2">,</span>
            new <span class="s1">MotoristaClass(</span><span class="s5">&quot;Josefino&quot;</span><span class="s2">, </span><span class="s6">12</span><span class="s2">, </span><span class="s6">5</span><span class="s2">, </span><span class="s6">5</span><span class="s2">, </span><span class="s6">2019</span><span class="s1">)</span>
        }<span class="s2">;</span>
        <span class="s1">empresa.inserirEmpregados(empregados)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static </span><span class="s1">String firstLetterUP(String str) {</span>
        <span class="s2">return </span><span class="s1">str.substring(</span><span class="s6">0</span><span class="s2">, </span><span class="s6">1</span><span class="s1">).toUpperCase() + str.substring(</span><span class="s6">1</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">menuTipoEmpregado(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        System.out.println(MENU_EMPREGADO_TITULO)<span class="s2">;</span>

        for <span class="s1">(</span><span class="s2">int </span><span class="s1">i = </span><span class="s6">1</span><span class="s2">; </span><span class="s1">i &lt;= Categorias.values().length</span><span class="s2">; </span><span class="s1">i++) {</span>
            System.out.println(i + <span class="s5">&quot;. &quot; </span><span class="s1">+ firstLetterUP(Categorias.values()[i - </span><span class="s6">1</span><span class="s1">].toString()))</span><span class="s2">;</span>
        <span class="s1">}</span>

        escolherOpcaoTipoEmpregado(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static int </span><span class="s1">escolherOpcaoTipoEmpregado(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">lerOpcao = ui.lerInteiro(ESCOLHA_OPCAO)</span><span class="s2">;</span>
        <span class="s1">escolherMenuTipoEmpregado(empresa</span><span class="s2">, </span><span class="s1">ui</span><span class="s2">, </span><span class="s1">lerOpcao)</span><span class="s2">;</span>
        return <span class="s1">lerOpcao</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">escolherMenuTipoEmpregado(Empresa empresa</span><span class="s2">, </span><span class="s1">UserInput ui</span><span class="s2">, int </span><span class="s1">opcao) {</span>
        System.out.println(MENU_EMPREGADO_TITULO)<span class="s2">;</span>

        int <span class="s1">codigo = ui.lerInteiro(INTRODUZIR_CODIGO)</span><span class="s2">;</span>
        <span class="s1">empresa.checkCodigo(codigo)</span><span class="s2">;</span>

        <span class="s1">String nome = ui.lerFrase(INTRODUZIR_NOME)</span><span class="s2">;</span>
        <span class="s1">System.out.println(DATA_ENTRADA_EMP)</span><span class="s2">;</span>

        int <span class="s1">diaEntradaEmpresa = ui.lerInteiro(DIA)</span><span class="s2">;</span>
        int <span class="s1">mesEntradaEmpresa = ui.lerInteiro(MES)</span><span class="s2">;</span>
        int <span class="s1">anoEntradaEmpresa = ui.lerInteiro(ANO)</span><span class="s2">;</span>

        <span class="s1">Date dataAtual = </span><span class="s2">new </span><span class="s1">DateClass()</span><span class="s2">;</span>
        <span class="s1">Date dataCompare = </span><span class="s2">new </span><span class="s1">DateClass(diaEntradaEmpresa</span><span class="s2">, </span><span class="s1">mesEntradaEmpresa</span><span class="s2">, </span><span class="s1">anoEntradaEmpresa)</span><span class="s2">;</span>

        if <span class="s1">(!empresa.verifyDate(dataAtual</span><span class="s2">, </span><span class="s1">dataCompare)) {</span>
            <span class="s2">throw new </span><span class="s1">GestaoException(GestaoErro.DATA_INVALIDA)</span><span class="s2">;</span>
        <span class="s1">}</span>

        <span class="s2">switch </span><span class="s1">(opcao) {</span>
            <span class="s2">case </span><span class="s6">1</span><span class="s1">:</span>
                empresa.addEmpregadoNormal(nome<span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">diaEntradaEmpresa</span><span class="s2">, </span><span class="s1">mesEntradaEmpresa</span><span class="s2">, </span><span class="s1">anoEntradaEmpresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">2</span><span class="s1">:</span>
                empresa.addEmpregadoComercial(nome<span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">diaEntradaEmpresa</span><span class="s2">, </span><span class="s1">mesEntradaEmpresa</span><span class="s2">, </span><span class="s1">anoEntradaEmpresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">4</span><span class="s1">:</span>
                empresa.addEmpregadoGestor(nome<span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">diaEntradaEmpresa</span><span class="s2">, </span><span class="s1">mesEntradaEmpresa</span><span class="s2">, </span><span class="s1">anoEntradaEmpresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">3</span><span class="s1">:</span>
                empresa.addEmpregadoMotorista(nome<span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">diaEntradaEmpresa</span><span class="s2">, </span><span class="s1">mesEntradaEmpresa</span><span class="s2">, </span><span class="s1">anoEntradaEmpresa)</span><span class="s2">;</span>
                break;

        <span class="s1">}</span>

    }

    <span class="s2">private static void </span><span class="s1">nrEmpregadosPorCategoria(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        String categoria = ui.lerFrase(INTRODUZIR_CATEGORIA)<span class="s2">;</span>
        <span class="s1">System.out.printf(NR_EMPREGADOS</span><span class="s2">, </span><span class="s1">categoria</span><span class="s2">, </span><span class="s1">empresa.getNumeroEmpregados(categoria))</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">obterEmpregadoByCodigo(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">codigo = ui.lerInteiro(CODIGO_EMPREGADO)</span><span class="s2">;</span>
        <span class="s1">System.out.println(empresa.getEmpregadoString(codigo))</span><span class="s2">;</span>

    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">checkEmpregado(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">codigo = ui.lerInteiro(INTRODUZIR_CODIGO)</span><span class="s2">;</span>
        if <span class="s1">(empresa.empregadoIsExists(codigo)) {</span>
            System.out.printf(EXISTE_CODIGO<span class="s2">, </span><span class="s1">codigo)</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            System.out.println(NAO_EXISTE_EMP)<span class="s2">;</span>
        <span class="s1">}</span>
    }

    <span class="s2">private static void </span><span class="s1">mostrarTodosEmpregados(Empresa empresa) {</span>
        System.out.println(empresa.getTotalEmpregados())<span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">mostrarTodosEmpregadosFiltrados(Empresa empresa) {</span>
        System.out.println(empresa.getTotalEmpregadoFiltrados())<span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">calcularSalariosTotais(Empresa empresa) {</span>
        System.out.println(TOTAL_A_PAGAR)<span class="s2">;</span>
        <span class="s1">System.out.println(empresa.getTotalSalariosPagar() + </span><span class="s5">&quot;€&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">verificarDatas(Empresa empresa</span><span class="s2">, int </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">Date data1</span><span class="s2">, </span><span class="s1">Date data2) {</span>
        Date dataEntradaEmpresa = empresa.getEmpregado(codigo).getDataEntradaEmpresa()<span class="s2">;</span>

        if <span class="s1">((!empresa.verifyDate(data2</span><span class="s2">, </span><span class="s1">dataEntradaEmpresa)) || (!empresa.verifyDate(data1</span><span class="s2">, </span><span class="s1">data2))) {</span>
            <span class="s2">throw new </span><span class="s1">GestaoException(GestaoErro.DATA_INVALIDA)</span><span class="s2">;</span>
        <span class="s1">}</span>
    }

    <span class="s2">private static void </span><span class="s1">picarDia(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        System.out.println(PICAR_DIA_TITULO)<span class="s2">;</span>
        int <span class="s1">codigo = ui.lerInteiro(CODIGO_EMPREGADO)</span><span class="s2">;</span>

        if <span class="s1">(empresa.empregadoIsExists(codigo)) {</span>
            <span class="s2">int </span><span class="s1">dia = ui.lerInteiro(DIA)</span><span class="s2">;</span>
            int <span class="s1">mes = ui.lerInteiro(MES)</span><span class="s2">;</span>
            int <span class="s1">ano = ui.lerInteiro(ANO)</span><span class="s2">;</span>

            <span class="s1">Date data = </span><span class="s2">new </span><span class="s1">DateClass(dia</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">ano)</span><span class="s2">;</span>
            <span class="s1">Date dataAtual = </span><span class="s2">new </span><span class="s1">DateClass()</span><span class="s2">;</span>

            <span class="s1">verificarDatas(empresa</span><span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">dataAtual</span><span class="s2">, </span><span class="s1">data)</span><span class="s2">;</span>

            if <span class="s1">(empresa.picarDiaTrabalho(codigo</span><span class="s2">, </span><span class="s1">ano</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">dia)) {</span>
                System.out.println(DIA_ADICIONADO_SUCESSO)<span class="s2">;</span>
            <span class="s1">}</span>
        }
    }

    <span class="s2">private static void </span><span class="s1">apresentarCustos(Empresa empresa) {</span>
        System.out.println(CALCULAR_CUSTOS)<span class="s2">;</span>

        <span class="s1">System.out.println(TRIMESTRES_TITULO)</span><span class="s2">;</span>
        <span class="s1">System.out.println(empresa.calcularCustos(Periodos.TRIMESTRES))</span><span class="s2">;</span>

        <span class="s1">System.out.println(SEMESTRES_TITULO)</span><span class="s2">;</span>
        <span class="s1">System.out.println(empresa.calcularCustos(Periodos.SEMESTRES))</span><span class="s2">;</span>

        <span class="s1">System.out.println(ANUAIS_TITULO)</span><span class="s2">;</span>
        <span class="s1">System.out.println(empresa.calcularCustos(Periodos.ANUAIS))</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">adicionarVendasComercial(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">codigo = ui.lerInteiro(CODIGO_EMPREGADO)</span><span class="s2">;</span>
        <span class="s1">empresa.checkCategoriaCodigo(codigo</span><span class="s2">, </span><span class="s1">Categorias.COMERCIAL.toString())</span><span class="s2">;</span>

        double <span class="s1">valor = ui.lerDouble(INPUT_VENDA)</span><span class="s2">;</span>

        <span class="s1">System.out.println(DATA_VENDA)</span><span class="s2">;</span>
        int <span class="s1">ano = ui.lerInteiro(ANO)</span><span class="s2">;</span>
        int <span class="s1">mes = ui.lerInteiro(MES)</span><span class="s2">;</span>

        <span class="s1">Date data = </span><span class="s2">new </span><span class="s1">DateClass(</span><span class="s6">1</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">ano)</span><span class="s2">;</span>
        <span class="s1">Date dataAtual = </span><span class="s2">new </span><span class="s1">DateClass()</span><span class="s2">;</span>
        <span class="s1">verificarDatas(empresa</span><span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">dataAtual</span><span class="s2">, </span><span class="s1">data)</span><span class="s2">;</span>

        if <span class="s1">(empresa.adicionarBonus(codigo</span><span class="s2">, </span><span class="s1">valor</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">ano)) {</span>
            System.out.println(VENDA_SUCESSO)<span class="s2">;</span>
        <span class="s1">}</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">adicionarKmPercorricos(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">codigo = ui.lerInteiro(CODIGO_EMPREGADO)</span><span class="s2">;</span>
        <span class="s1">empresa.checkCategoriaCodigo(codigo</span><span class="s2">, </span><span class="s1">Categorias.MOTORISTA.toString())</span><span class="s2">;</span>

        double <span class="s1">valor = ui.lerDouble(INPUT_KM_PERCORRIDOS)</span><span class="s2">;</span>

        <span class="s1">System.out.println(DATA_KM)</span><span class="s2">;</span>
        int <span class="s1">ano = ui.lerInteiro(ANO)</span><span class="s2">;</span>
        int <span class="s1">mes = ui.lerInteiro(MES)</span><span class="s2">;</span>

        <span class="s1">Date data = </span><span class="s2">new </span><span class="s1">DateClass(</span><span class="s6">1</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">ano)</span><span class="s2">;</span>
        <span class="s1">Date dataAtual = </span><span class="s2">new </span><span class="s1">DateClass()</span><span class="s2">;</span>
        <span class="s1">verificarDatas(empresa</span><span class="s2">, </span><span class="s1">codigo</span><span class="s2">, </span><span class="s1">dataAtual</span><span class="s2">, </span><span class="s1">data)</span><span class="s2">;</span>

        if <span class="s1">(empresa.adicionarBonus(codigo</span><span class="s2">, </span><span class="s1">valor</span><span class="s2">, </span><span class="s1">mes</span><span class="s2">, </span><span class="s1">ano)) {</span>
            System.out.println(KM_PERCORRIDOS)<span class="s2">;</span>
        <span class="s1">}</span>
    }

    <span class="s2">private static void </span><span class="s1">menuPrincipal() {</span>
        System.out.println(<span class="s5">&quot;</span><span class="s2">\n\n</span><span class="s5">|========== Menu Principal ==========|</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;1. Menu Empregado</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;2. Menu Gestão</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;0. Sair&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">escolherMenuPrincipal(Empresa empresa</span><span class="s2">, </span><span class="s1">UserInput ui</span><span class="s2">, int </span><span class="s1">opcao) {</span>
        <span class="s2">switch </span><span class="s1">(opcao) {</span>
            <span class="s2">case </span><span class="s6">1</span><span class="s1">:</span>
                menuEmpregado()<span class="s2">;</span>
                <span class="s1">escolherMenuEmpregado(empresa</span><span class="s2">, </span><span class="s1">ui)</span><span class="s2">;</span>
                break;
            case <span class="s6">2</span><span class="s1">:</span>
                menuGestao()<span class="s2">;</span>
                <span class="s1">escolherMenu(empresa</span><span class="s2">, </span><span class="s1">ui)</span><span class="s2">;</span>
                break;
        <span class="s1">}</span>
    }

    <span class="s2">private static void </span><span class="s1">menuEmpregado() {</span>
        System.out.println(<span class="s5">&quot;</span><span class="s2">\n\n</span><span class="s5">|========== Menu Empregado ==========|</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;1. Introduzir dia de trabalho;</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;2. Adicionar vendas (Exclusivo para Comerciais);</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;3. Adicionar kilometros percorridos (Exclusivo para Motoristas);</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;0. Sair&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">escolherMenuEmpregado(Empresa empresa</span><span class="s2">, </span><span class="s1">UserInput ui) {</span>
        <span class="s2">int </span><span class="s1">opcao = ui.lerInteiro(ESCOLHA_OPCAO)</span><span class="s2">;</span>
        switch <span class="s1">(opcao) {</span>
            <span class="s2">case </span><span class="s6">1</span><span class="s1">:</span>
                picarDia(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">2</span><span class="s1">:</span>
                adicionarVendasComercial(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">3</span><span class="s1">:</span>
                adicionarKmPercorricos(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
        <span class="s1">}</span>
    }

    <span class="s2">private static void </span><span class="s1">menuGestao() {</span>
        System.out.println(<span class="s5">&quot;</span><span class="s2">\n\n</span><span class="s5">|========== Menu Gestão ==========|</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;1. Inserir um novo empregado; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;2. Verificar se existe algum empregado com um código dado como parâmetro; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;3. Obter a ficha de empregado, dado um código; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;4. Dada uma lista de empregados contratados, inseri-la no registo atual; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;5. Obter o número atual de empregados de uma dada categoria; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;6. Obter o conjunto de fichas de empregados; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;7. Obter o conjunto de fichas de empregados, filtrados por categoria; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;8. Calcular o total de salários a pagar; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;9. Calcular os custos trimestrais, semestrais e anuais com salários</span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;10. Guardar a lista atual de empregados no ficheiro de texto; </span><span class="s2">\n</span><span class="s5">&quot;</span>
                <span class="s1">+ </span><span class="s5">&quot;0. Sair&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">private static void </span><span class="s1">escolherMenu(Empresa empresa</span><span class="s2">, </span><span class="s1">UserInput ui) {</span>

        <span class="s2">int </span><span class="s1">opcao = ui.lerInteiro(ESCOLHA_OPCAO)</span><span class="s2">;</span>

        switch <span class="s1">(opcao) {</span>
            <span class="s2">case </span><span class="s6">1</span><span class="s1">:</span>
                menuTipoEmpregado(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">2</span><span class="s1">:</span>
                checkEmpregado(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">3</span><span class="s1">:</span>
                obterEmpregadoByCodigo(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">4</span><span class="s1">:</span>
                empregadosToBeAdd(empresa)<span class="s2">;</span>
                break;
            case <span class="s6">5</span><span class="s1">:</span>
                nrEmpregadosPorCategoria(ui<span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
                break;
            case <span class="s6">6</span><span class="s1">:</span>
                mostrarTodosEmpregados(empresa)<span class="s2">;</span>
                break;
            case <span class="s6">7</span><span class="s1">:</span>
                mostrarTodosEmpregadosFiltrados(empresa)<span class="s2">;</span>
                break;
            case <span class="s6">8</span><span class="s1">:</span>
                calcularSalariosTotais(empresa)<span class="s2">;</span>
                break;
            case <span class="s6">9</span><span class="s1">:</span>
                apresentarCustos(empresa)<span class="s2">;</span>
                break;
            case <span class="s6">10</span><span class="s1">:</span>
                <span class="s2">try </span><span class="s1">{</span>
                    saveEmpregadosFile(empresa<span class="s2">, </span><span class="s1">FILE_NAME)</span><span class="s2">;</span>
                    <span class="s1">System.out.println(SUCCESS_SAVE)</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException e) {</span>
                    System.out.println(ERRO_SAVE)<span class="s2">;</span>
                <span class="s1">}</span>
                <span class="s2">break;</span>

        <span class="s1">}</span>
    }

    <span class="s2">private static int </span><span class="s1">escolherOpcao(UserInput ui</span><span class="s2">, </span><span class="s1">Empresa empresa) {</span>
        <span class="s2">int </span><span class="s1">lerOpcao = ui.lerInteiro(ESCOLHA_OPCAO)</span><span class="s2">;</span>
        <span class="s1">escolherMenuPrincipal(empresa</span><span class="s2">, </span><span class="s1">ui</span><span class="s2">, </span><span class="s1">lerOpcao)</span><span class="s2">;</span>
        return <span class="s1">lerOpcao</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s3">/**</span>
     *
     * <span class="s4">@param </span><span class="s3">args</span>
     */
    <span class="s2">public static void </span><span class="s1">main(String[] args) {</span>

        <span class="s2">int </span><span class="s1">opcao = -</span><span class="s6">1</span><span class="s2">;</span>
        <span class="s1">UserInput ui = </span><span class="s2">new </span><span class="s1">UserInput()</span><span class="s2">;</span>
        <span class="s1">Empresa empresa = </span><span class="s2">new </span><span class="s1">EmpresaClass()</span><span class="s2">;</span>
        try <span class="s1">{</span>
            lerEmpregadosFile(empresa<span class="s2">, </span><span class="s1">FILE_NAME)</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException e) {</span>
            System.out.println(ERRO_LER_FICHEIRO)<span class="s2">;</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(NoSuchElementException nF) {</span>
            System.out.println(FICHEIRO_VAZIO)<span class="s2">;</span>
        <span class="s1">}</span>
        <span class="s2">do </span><span class="s1">{</span>
            <span class="s2">try </span><span class="s1">{</span>
                menuPrincipal()<span class="s2">;</span>
                <span class="s1">opcao = escolherOpcao(ui</span><span class="s2">, </span><span class="s1">empresa)</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(GestaoException e) {</span>
                System.out.println(e.getMessage())<span class="s2">;</span>
            <span class="s1">}</span>
        } <span class="s2">while </span><span class="s1">(opcao != </span><span class="s6">0</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">ui.closeScanner()</span><span class="s2">;</span>

    <span class="s1">}</span>

}
</pre>
</body>
</html>